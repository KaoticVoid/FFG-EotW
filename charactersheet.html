
<!--

Notes:

  
// Github Steve Day:
// Github The Aaron:    https://github.com/shdwjk/Roll20API/blob/master/ZombieDice/ZombieDice.js
// By:                  The Aaron, Arcane Scriptomancer, Steve Day
// Update:              Steve Day: Updated graphics to show dice and show who rolled the dice
// Contact:             https://app.roll20.net/users/104025/the-aaron

var ZombieDice = ZombieDice || (function() {
    'use strict';

    var version = 0.4,

    getDiceCounts = function(msg,idx) {
        return ( msg.inlinerolls
            && msg.inlinerolls[idx]
            && msg.inlinerolls[idx].results
            && msg.inlinerolls[idx].results.rolls[0]
            && msg.inlinerolls[idx].results.rolls[0].results
            && (_.reduce(_.map(msg.inlinerolls[idx].results.rolls[0].results, function(r){
                return r.v;
            }).sort()  || [], function(m,r){
                m[r]=(m[r]||0)+1;
                return m;
            },{})));
    },

    getDiceArray = function(c) {
        return _.reduce(c,function(m,v,k){
            _.times(v,function(){m.push(k);});
            return m;
        },[]);
    },
    
    replaceArray = function(array, find, replace) {
        var replaceString = array;
        var regex; 
        for (var i = 0; i < find.length; i++) {
            regex = new RegExp(find[i], "g");
            replaceString = replaceString.replace(regex, replace[i]);
        }
        return replaceString;
    },
    
    useDiceFont = function(d_array, pos_neg) {
        
        //log(d_array);
        
        var find = ['1','2','3','4','5','6'];
        
        if (pos_neg == 'positive') {
            var replace = ['a','b','c','d','e','f'];  
        } else {
            var replace = ['A','B','C','D','E','F']; 
        }
        
        var d_string = replaceArray(d_array.join(' '), find, replace);
        
        return d_string;
    },
    
    handleInput = function(msg) {
        
        //log(msg);
        
        var args,
            w=false,
            t,
            p,pp,
            n,np,
            c={},
            s
            ;
        
        
        if (msg.type !== "api") {
            return;
        }
       

        args = msg.content.split(/\s+/);
        switch(args[0]) {
            case '!wzd':
                w=true;
                /* break; */ // Intentional drop through
            case '!zd':

                t = parseInt(args[1],10);
                p = getDiceCounts(msg,0);
                n = getDiceCounts(msg,1);

                pp = _.clone(p);
                np = _.clone(n);

                _.reduce(np,function(m,r,k,l){
                    var ps = m[k] || 0;
                    m[k] = Math.max(ps-r,0);
                    l[k] = Math.max(r-ps,0);
                    c[k] = ps-m[k];

                    if(!l[k]) {
                        delete l[k];
                    }
                    if(!m[k]) {
                        delete m[k];
                    }
                    if(!c[k]) {
                        delete c[k];
                    }
                    return m;
                },pp);

                p=getDiceArray(p);
                n=getDiceArray(n);
                pp=getDiceArray(pp);
                np=getDiceArray(np);
                c=getDiceArray(c);
               

                s = _.filter(pp,function(v){
                    return v<=t;
                });

                sendChat( msg.who , (w ? '/w gm ' : '/direct ')
                    +'<div>'
                        +'<div style="font-size:30px; color:#999; font-family: dicefontd6; line-height:30px">' //'Positive['+p.length+']: '
                            +'<span style="color:#444">'+ useDiceFont(pp,'positive') + '</span>'
                            +( (pp.length && c.length) ? ' | ' : '')
                            +( c.length ? ('<strike style=""><span>'+ useDiceFont(c,'positive') +'</span></strike>') : '' )
                        +'</div>'
                        + (n.length ? ('<div style="font-size:30px; color:#999; font-family: dicefontd6; line-height:30px">' //'Negative['+n.length+']: '
                            +'<span style="color:#be0101;">'+ useDiceFont(np,'negative') + '</span>'
                            +( (np.length && c.length) ? ' | ' : '')
                            + (c.length ? ('<strike style=""><span>'+ useDiceFont(c,'negative') +'</span></strike>') : '' )
                        +'</div>') : '')
                        +'<div>'
                            +'<div style="color:#fff; font-size:18px; margin-right:1px; text-align:center; padding-top:5px; height:40px; width:50px; float:left; background: #999"><div>'+t+'</div><div style="font-size:10px;">VS</div></div>'
                            +'<div style="color:#fff; font-size:18px; margin-right:1px; text-align:center; padding-top:'+(s.length ? '5px' : '15px' )+'; height:'+(s.length ? '40px' : '30px' )+'; width:50px; float:left; background: '+(s.length ? '#74951b' : '#be0101' )+ '">'+ (s.length ? '<div>'+s.length+'</div><div style="font-size:10px;">Success</div>' : '<div>Fail</div>') +'</div>'
                            +'<div style="color:#fff; font-size:18px; margin-right:1px; text-align:center; padding-top:5px; height:40px; width:50px; float:left; background: #be0101"><div>'+np.length+'</div><div style="font-size:10px;">Stress</div></div>'
                            +'<div style="clear: both"></div>'
                        +'</div>'
                    +'</div>');
                
                break;
        }
    },

    registerEventHandlers = function() {
        on('chat:message', handleInput);
    };

    return {
        RegisterEventHandlers: registerEventHandlers
    };
    
}());

on('ready',function() {
    'use strict';

    ZombieDice.RegisterEventHandlers();
});
--------------------------------------------  -->

<div class="sheet-section">

<table class="sheet-dice-roll">
    <tr>
        <th class="sheet-char-title" colspan="4">
            <h3>Dice Roller</h3>
        </th>
    </tr>
    <tr>
        <th>Characteristics</th>
        <th class="sheet-divider">Negative</th>
        <th class="sheet-divider">Positive</th>
        <th class="sheet-divider"></th>
    </tr>
    <tr>
        <td style="width:30%">
            <select name="attr_characteristic" style="width:100%; margin-bottom:0px">
                <option disabled="true">Select Characteristic</option>
                <option value="@{Dexterity}">Dexterity</option>
                <option value="@{Vitality}">Vitality</option>
                <option value="@{Logic}">Logic</option>
                <option value="@{Willpower}">Willpower</option>
                <option value="@{Charisma}">Charisma</option>
                <option value="@{Empathy}">Empathy</option>
            </select>
        </td>
        <td style="width:30%">
            <input class="sheet-radio-set-clear" type="radio" value="0" name="attr_d_neg" checked="checked" /><span></span>
            <input class="sheet-radio-set" type="radio" value="1" name="attr_d_neg"  /><span></span>
            <input class="sheet-radio-set" type="radio" value="2" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="3" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="4" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="5" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="6" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="7" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="8" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="9" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="10" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="11" name="attr_d_neg" /><span></span>
            <input class="sheet-radio-set" type="radio" value="12" name="attr_d_neg" /><span></span>
        </td>
        <td style="width:30%" >
            <!--<input class="sheet-radio-set-clear" type="radio" value="0" name="attr_d_pos" checked="checked" /><span></span>-->
            <input class="sheet-radio-set" type="radio" value="1" name="attr_d_pos"  /><span></span>
            <input class="sheet-radio-set" type="radio" value="2" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="3" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="4" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="5" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="6" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="7" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="8" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="9" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="10" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="11" name="attr_d_pos" /><span></span>
            <input class="sheet-radio-set" type="radio" value="12" name="attr_d_pos" /><span></span>
        </td>
        <td style="width:10%">
            <button type="roll" name="roll_task" value="!zd @{characteristic} [[@{d_pos}d6]] [[@{d_neg}d6]]" >Roll</button>
        </td>
    </tr>
</table>

</div><!-- end section -->

<div class="sheet-section">

<table class="sheet-section-char">
    <tr>
        <td>
        
<table class="sheet-char sheet-physical">
    <tr>
        <th class="sheet-char-title sheet-char-title-centered" colspan="2">
            <h3>Physical</h3>
        </th>
    </tr>
    <tr class="sheet-char-level">
        <td class="sheet-radio-stack-vert">
            
            <span class="sheet-text-right">Dexterity</span>
            
            <div class="sheet-char-radio-right">
                
                <input class="sheet-radio-set sheet-radio-vert-1" value="1" type="radio" name="attr_Dexterity" checked="checked" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-2" value="2" type="radio" name="attr_Dexterity" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-3" value="3" type="radio" name="attr_Dexterity" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-4" value="4" type="radio" name="attr_Dexterity" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-5" value="5" type="radio" name="attr_Dexterity" /><span></span>
                
            </div>
            
         </td>
        <td class="sheet-radio-stack-vert">
            
            <span class="sheet-text-left">Vitality</span>

            <div class="sheet-char-radio-left">

                <input class="sheet-radio-set sheet-radio-vert-1" value="1" type="radio" name="attr_Vitality" checked="checked" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-2" value="2" type="radio" name="attr_Vitality" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-3" value="3" type="radio" name="attr_Vitality" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-4" value="4" type="radio" name="attr_Vitality" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-5" value="5" type="radio" name="attr_Vitality" /><span></span>
                
            </div>
            
        </td>
    </tr>
</table>
            

        </td>
        <td>

<table class="sheet-char sheet-mental">
    <tr>
        <th class="sheet-char-title sheet-char-title-centered" colspan="2">
            <h3>Mental</h3>
        </th>
    </tr>
    <tr class="sheet-char-level">
        <td class="sheet-radio-stack-vert">
            
            <span class="sheet-text-right">Logic</span>
            
            <div class="sheet-char-radio-right">
                
                <input class="sheet-radio-set sheet-radio-vert-1" value="1" type="radio" name="attr_Logic" checked="checked" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-2" value="2" type="radio" name="attr_Logic" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-3" value="3" type="radio" name="attr_Logic" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-4" value="4" type="radio" name="attr_Logic" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-5" value="5" type="radio" name="attr_Logic" /><span></span>
                
            </div>
            
         </td>
        <td class="sheet-radio-stack-vert">
            
            <span class="sheet-text-left">Willpower</span>

            <div class="sheet-char-radio-left">

                <input class="sheet-radio-set sheet-radio-vert-1" value="1" type="radio" name="attr_Willpower" checked="checked" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-2" value="2" type="radio" name="attr_Willpower" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-3" value="3" type="radio" name="attr_Willpower" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-4" value="4" type="radio" name="attr_Willpower" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-5" value="5" type="radio" name="attr_Willpower" /><span></span>
                
            </div>
            
        </td>
    </tr>
</table>

        </td>
        <td>

<table class="sheet-char sheet-social">
    <tr>
        <th class="sheet-char-title sheet-char-title-centered" colspan="2">
            <h3>Social</h3>
        </th>
    </tr>
    <tr class="sheet-char-level">
        <td class="sheet-radio-stack-vert">
            
            <span class="sheet-text-right">Charisma</span>
            
            <div class="sheet-char-radio-right">
                
                <input class="sheet-radio-set sheet-radio-vert-1" value="1" type="radio" name="attr_Charisma" checked="checked" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-2" value="2" type="radio" name="attr_Charisma" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-3" value="3" type="radio" name="attr_Charisma" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-4" value="4" type="radio" name="attr_Charisma" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-5" value="5" type="radio" name="attr_Charisma" /><span></span>
                
            </div>
            
         </td>
        <td class="sheet-radio-stack-vert">
            
            <span class="sheet-text-left">Empathy</span>

            <div class="sheet-char-radio-left">

                <input class="sheet-radio-set sheet-radio-vert-1" value="1" type="radio" name="attr_Empathy" checked="checked" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-2" value="2" type="radio" name="attr_Empathy" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-3" value="3" type="radio" name="attr_Empathy" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-4" value="4" type="radio" name="attr_Empathy" /><span></span>
                <input class="sheet-radio-set sheet-radio-vert-5" value="5" type="radio" name="attr_Empathy" /><span></span>
                
            </div>
            
        </td>
    </tr>
</table>

        </td>
    </tr>
</table>

</div><!-- end section -->      

<div class="sheet-section">

<table class="sheet-section-features">
    <tr>
        <td>     
        
<table>
    <tr>
        <th colspan="2">
            <h3 class="sheet-sub-title">Features</h3>
        </th>
    </tr>
    <tr>
        <td>
            <fieldset class="repeating_features1">
            <table>
                <tr>
                    <td style="width:60px">
                        <div class="sheet-switch sheet-switch-features">
                            <input type="radio" class="sheet-switch-input-on" name="attr_positive_negative_physical" value="+" title="+" checked="checked"><span>+</span>
                            <input type="radio" class="sheet-switch-input-off" name="attr_positive_negative_physical" value="-" title="-"><span>-</span>
                        </div>
                    </td>
                    <td style="width:100%"><input type="text" value="" name="attr_feature_physical" /></td>
                </tr>
            </table>
            </fieldset>
        </td>
    </tr>
</table>    
        
        </td>
        <td class="sheet-divider">
            
<table>
    <tr>
        <th colspan="2">
            <h3 class="sheet-sub-title">Features</h3>
        </th>
    </tr>
    <tr>
        <td>
            <fieldset class="repeating_features2">
            <table>
                <tr>
                    <td style="width:60px">
                        <div class="sheet-switch sheet-switch-features">
                            <input type="radio" name="attr_positive_negative_mental" value="+" title="+" checked="checked"><span>+</span>
                            <input type="radio" name="attr_positive_negative_mental" value="-" title="-"><span>-</span>
                        </div>
                    </td>
                    <td style="width:100%"><input type="text" value="" name="attr_feature_mental" /></td>
                </tr>
            </table>
            </fieldset>
        </td>
    </tr>
</table>  
        </td>
        <td class="sheet-divider">
            
<table>
    <tr>
        <th colspan="2">
            <h3 class="sheet-sub-title">Features</h3>
        </th>
    </tr>
    <tr>
        <td>
            <fieldset class="repeating_features3">
            <table>
                <tr>
                    <td style="width:60px">
                        <div class="sheet-switch sheet-switch-features">
                            <input type="radio" name="attr_positive_negative_social" value="+" title="+" checked="checked"><span>+</span>
                            <input type="radio" name="attr_positive_negative_social" value="-" title="-"><span>-</span>
                        </div>
                    </td>
                    <td style="width:100%"><input type="text" value="" name="attr_feature_social" /></td>
                </tr>
            </table>
            </fieldset>
        </td>
    </tr>
</table>  
        </td>
    </tr>
</table>

</div><!-- end section -->      

<div class="sheet-section">
<table class="sheet-section-stress">
    <tr>
        <td>
            
<table>
    <tr>
        <th colspan="3">
            <h3 class="sheet-sub-title">Stress</h3>
        </th>
    </tr>
    <tr>
        <td style="width:40px">
            <span class="sheet-stress-level-3">X</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_physical_4" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="10" type="radio" name="attr_stress_physical_4" /><span></span>
            <input class="sheet-radio-set" value="11" type="radio" name="attr_stress_physical_4" /><span></span>
            <input class="sheet-radio-set" value="12" type="radio" name="attr_stress_physical_4" /><span></span>  
        </td>
        <td style="width:40px">
            <span class="sheet-stress-level-3 sheet-text-right">X</span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="sheet-stress-level-3">3</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_physical_3" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="7" type="radio" name="attr_stress_physical_3" /><span></span>
            <input class="sheet-radio-set" value="8" type="radio" name="attr_stress_physical_3" /><span></span>
            <input class="sheet-radio-set" value="9" type="radio" name="attr_stress_physical_3" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-3 sheet-text-right">3</span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="sheet-stress-level-2">2</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_physical_2" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="4" type="radio" name="attr_stress_physical_2" /><span></span>
            <input class="sheet-radio-set" value="5" type="radio" name="attr_stress_physical_2" /><span></span>
            <input class="sheet-radio-set" value="6" type="radio" name="attr_stress_physical_2" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-2 sheet-text-right">2</span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="sheet-stress-level-1">1</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_physical_1" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="1" type="radio" name="attr_stress_physical_1" /><span></span>
            <input class="sheet-radio-set" value="2" type="radio" name="attr_stress_physical_1" /><span></span>
            <input class="sheet-radio-set" value="3" type="radio" name="attr_stress_physical_1" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-1 sheet-text-right">1</span>
        </td>
    </tr>
    
</table>    
        
        </td>
        <td class="sheet-divider">
            
<table>
    <tr>
        <th colspan="3">
            <h3 class="sheet-sub-title">Stress</h3>
        </th>
    </tr>
    <tr>
        <td style="width:40px">
            <span class="sheet-stress-level-3">X</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_mental_4" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="10" type="radio" name="attr_stress_mental_4" /><span></span>
            <input class="sheet-radio-set" value="11" type="radio" name="attr_stress_mental_4" /><span></span>
            <input class="sheet-radio-set" value="12" type="radio" name="attr_stress_mental_4" /><span></span>  
        </td>
        <td style="width:40px">
            <span class="sheet-stress-level-3 sheet-text-right">X</span>
        </td>
    </tr>
    <tr>
        
        <td>
            <span class="sheet-stress-level-3">3</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_mental_3" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="7" type="radio" name="attr_stress_mental_3" /><span></span>
            <input class="sheet-radio-set" value="8" type="radio" name="attr_stress_mental_3" /><span></span>
            <input class="sheet-radio-set" value="9" type="radio" name="attr_stress_mental_3" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-3 sheet-text-right">3</span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="sheet-stress-level-2">2</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_mental_2" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="4" type="radio" name="attr_stress_mental_2" /><span></span>
            <input class="sheet-radio-set" value="5" type="radio" name="attr_stress_mental_2" /><span></span>
            <input class="sheet-radio-set" value="6" type="radio" name="attr_stress_mental_2" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-2 sheet-text-right">2</span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="sheet-stress-level-1">1</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_mental_1" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="1" type="radio" name="attr_stress_mental_1" /><span></span>
            <input class="sheet-radio-set" value="2" type="radio" name="attr_stress_mental_1" /><span></span>
            <input class="sheet-radio-set" value="3" type="radio" name="attr_stress_mental_1" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-1 sheet-text-right">1</span>
        </td>
    </tr>
</table>  

        </td>
        <td class="sheet-divider">
            
<table>
    <tr>
        <th colspan="3">
            <h3 class="sheet-sub-title">Stress</h3>
        </th>
    </tr>
    <tr>
        <td style="width:40px">
            <span class="sheet-stress-level-3">X</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_social_4" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="10" type="radio" name="attr_stress_social_4" /><span></span>
            <input class="sheet-radio-set" value="11" type="radio" name="attr_stress_social_4" /><span></span>
            <input class="sheet-radio-set" value="12" type="radio" name="attr_stress_social_4" /><span></span>  
        </td>
        <td style="width:40px">
            <span class="sheet-stress-level-3 sheet-text-right">X</span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="sheet-stress-level-3">3</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_social_3" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="7" type="radio" name="attr_stress_social_3" /><span></span>
            <input class="sheet-radio-set" value="8" type="radio" name="attr_stress_social_3" /><span></span>
            <input class="sheet-radio-set" value="9" type="radio" name="attr_stress_social_3" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-3 sheet-text-right">3</span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="sheet-stress-level-2">2</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_social_2" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="4" type="radio" name="attr_stress_social_2" /><span></span>
            <input class="sheet-radio-set" value="5" type="radio" name="attr_stress_social_2" /><span></span>
            <input class="sheet-radio-set" value="6" type="radio" name="attr_stress_social_2" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-2 sheet-text-right">2</span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="sheet-stress-level-1">1</span>
        </td>
        <td>
            <input class="sheet-radio-set-clear" value="0" type="radio" name="attr_stress_social_1" checked="checked" /><span></span>
            <input class="sheet-radio-set" value="1" type="radio" name="attr_stress_social_1" /><span></span>
            <input class="sheet-radio-set" value="2" type="radio" name="attr_stress_social_1" /><span></span>
            <input class="sheet-radio-set" value="3" type="radio" name="attr_stress_social_1" /><span></span>  
        </td>
        <td>
            <span class="sheet-stress-level-1 sheet-text-right">1</span>
        </td>
    </tr>
</table>  

        </td>
    </tr>
</table>

</div><!-- end section -->

<div class="sheet-section">

<table class="sheet-section-traumas">
    <tr>
        <td>     
        
<table>
    <tr>
        <th colspan="3">
            <h3 class="sheet-sub-title">Traumas</h3>
        </th>
    </tr>
    <tr>
        <td style="vertical-align: middle; width:40px">
            <span class="sheet-stress-level-3">3</span>
        </td>
        <td style="width:80px">
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_physical_3" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_physical_3" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_physical_3" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td>
            <input type="text" value="" name="attr_traumas_physical_text_3" />
        </td>
    </tr>
    <tr>
        <td style="vertical-align: middle;">
            <span class="sheet-stress-level-2">2</span>
        </td>
        <td>
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_physical_2" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_physical_2" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_physical_2" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td>
            <input type="text" value="" name="attr_traumas_physical_text_2" />
        </td>
    </tr>
    <tr>
        <td style="vertical-align: middle;">
            <span class="sheet-stress-level-1">1</span>
        </td>
        <td>
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_physical_1" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_physical_1" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_physical_1" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td>
            <input type="text" value="" name="attr_traumas_physical_text_1" />
        </td>
    </tr>
</table>    
        
        </td>
        <td class="sheet-divider">

<table>
    <tr>
        <th colspan="3">
            <h3 class="sheet-sub-title">Traumas</h3>
        </th>
    </tr>
    <tr>
        <td style="vertical-align: middle; width:40px">
            <span class="sheet-stress-level-3">3</span>
        </td>
        <td style="width:80px">
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_mental_3" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_mental_3" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_mental_3" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td style="width:100%">
            <input type="text" value="" name="attr_traumas_mental_text_3" />
        </td>
    </tr>
    <tr>
        <td style="vertical-align: middle;">
            <span class="sheet-stress-level-2">2</span>
        </td>
        <td>
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_mental_2" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_mental_2" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_mental_2" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td>
            <input type="text" value="" name="attr_traumas_mental_text_2" />
        </td>
    </tr>
    <tr>
        <td style="vertical-align: middle;">
            <span class="sheet-stress-level-1">1</span>
        </td>
        <td>
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_mental_1" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_mental_1" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_mental_1" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td>
            <input type="text" value="" name="attr_traumas_mental_text_1" />
        </td>
    </tr>
</table> 
            
        </td>
        <td class="sheet-divider">

<table>
    <tr>
        <th colspan="3">
            <h3 class="sheet-sub-title">Traumas</h3>
        </th>
    </tr>
    <tr>
        <td style="vertical-align: middle; width:40px">
            <span class="sheet-stress-level-3">3</span>
        </td>
        <td style="width:80px">
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_social_3" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_social_3" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_social_3" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td style="width:100%">
            <input type="text" value="" name="attr_traumas_social_text_3" />
        </td>
    </tr>
    <tr>
        <td style="vertical-align: middle;">
            <span class="sheet-stress-level-2">2</span>
        </td>
        <td>
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_social_2" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_social_2" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_social_2" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td>
            <input type="text" value="" name="attr_traumas_social_text_2" />
        </td>
    </tr>
    <tr>
        <td style="vertical-align: middle;">
            <span class="sheet-stress-level-1">1</span>
        </td>
        <td>
            <div class="sheet-switch sheet-switch-traumas">
                <input type="radio" name="attr_traumas_social_1" value="1D" title="1 Day" checked="checked"><span>1D</span>
                <input type="radio" name="attr_traumas_social_1" value="1W" title="1 Week"><span>1W</span>
                <input type="radio" name="attr_traumas_social_1" value="1M" title="1 Month"><span>1M</span>
            </div>
        </td>
        <td>
            <input type="text" value="" name="attr_traumas_social_text_1" />
        </td>
    </tr>
</table>

        </td>
    </tr>
</table>

</div><!-- end section -->
            

<div class="sheet-section">
<table>
    <tr>
        <th class="sheet-char-title" colspan="2">
            <h3>Weapons</h3>
        </th>
    </tr>
    <tr>
        <td>
            <table style="border-bottom:1px solid #999;">
                <tr>
                    <td>Name:</td>
                    <td style="width:220px">Weapon Type:</td>
                    <td style="width:70px">Damage:</td>
                    <td style="width:70px;">Positive:</td>
                    <td style="width:70px;">Negative:</td>
                </tr>
            </table>
            
            <fieldset class="repeating_weapons">
            <table style="border-bottom:1px dotted #999;">
                <tr>
                    <td><input style="width:100%" type="text" value="" name="attr_weapon_name" /></td>
                    <td style="width:220px">
                        <select name="attr_weapon_type" style="margin-bottom:0px;">
                            <option disabled="true">Select Weapon Type</option>
                            <option value="0">Small-Bladed Melee</option>
                            <option value="1">Large-Bladed Melee</option>
                            <option value="2">Small Improvised Melee</option>
                            <option value="3">Large Improvised Melee</option>
                            <option value="4">Thrown Object</option>
                            <option value="5">Pistol</option>
                            <option value="6">Shotgun</option>
                            <option value="7">Single-Shot Rifle</option>
                            <option value="8">Multi-Shot Rifle</option>
                            <option value="9">Other</option>
                        </select>
                    </td>
                    <td style="width:70px"><input style="width:100%" type="text" value="" name="attr_weapon_dmg" /></td>
                    <td style="width:70px;"><input style="width:100%" type="text" value="" name="attr_weapon_positive" /></td>
                    <td style="width:70px;"><input style="width:100%" type="text" value="" name="attr_weapon_negative" /></td>
                </tr>
            </table>
            </fieldset>
        </td>
    </tr>
</table>
</div><!-- end section -->           
            
<div class="sheet-section">
<table class="sheet-equipment">
    <tr>
        <th class="sheet-char-title" colspan="2">
            <h3>Equipment</h3>
        </th>
    </tr>
    <tr>
        <td>
            <table style="border-bottom:1px solid #999;">
                <tr>
                    <td>Name:</td>
                    <td style="width:70px;">Positive:</td>
                    <td style="width:70px;">Negative:</td>
                </tr>
            </table>
            
            <fieldset class="repeating_equipment">
            <table style="border-bottom:1px dotted #999;">
                <tr>
                    <td><input style="width:100%" type="text" value="" name="attr_equipment_name" /></td>
                    <td style="width:70px;"><input style="width:100%" type="text" value="" name="attr_equipment_positive" /></td>
                    <td style="width:70px;"><input style="width:100%" type="text" value="" name="attr_equipment_negative" /></td>
                </tr>
            </table>
            </fieldset>
        </td>
    </tr>
</table>
</div><!-- end section -->

            
